<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Fractal Fun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="canvasContainer">
        <canvas id="canvas1"></canvas>
        <canvas id="canvas2"></canvas>
    </div>

    <div id="controls">
        <!-- Einklapp-Pfeil (E) -->
        <button id="collapseButton" title="Slider ein-/ausklappen (E)">▴</button>

        <!-- Hauptaktionen -->
        <button id="randomizeButton" class="action-button">Randomisieren (R)</button>
        <button id="resetButton" class="action-button">Reset (Q)</button>

        <!-- Slider: Label über Slider -->
        <div>
            <label for="spread">Streuung:</label>
            <input type="range" id="spread" min="-3.2" max="3.2" step="0.1" value="0.7">
        </div>
        <div>
            <label for="sides">Seiten:</label>
            <input type="range" id="sides" min="2" max="15" step="1" value="5">
        </div>
        <div>
            <label for="levels">Tiefe:</label>
            <input type="range" id="levels" min="1" max="4" step="1" value="3">
        </div>
        <div>
            <label for="scale">Skalierung:</label>
            <input type="range" id="scale" min="0.1" max="0.9" step="0.1" value="0.5">
        </div>
        <div>
            <label for="lineWidth">Linienbreite:</label>
            <input type="range" id="lineWidth" min="5" max="30" step="5" value="15">
        </div>
        <div>
            <label for="lineLength">Länge:</label>
            <input type="range" id="lineLength" min="0.3" max="1.0" step="0.1" value="1.0">
        </div>
        <div>
            <label for="branching">Äste:</label>
            <input type="range" id="branching" min="1" max="3" step="1" value="1">
        </div>
        <div>
            <label for="hue">Farbton:</label>
            <input type="range" id="hue" min="0" max="330" step="30" value="290">
        </div>
        <div>
            <label for="nLevelBranches">Verzweigung:</label>
            <input type="range" id="nLevelBranches" min="0" max="2" step="1" value="2">
        </div>
        <div>
            <label for="rotation">Rotation:</label>
            <input type="range" id="rotation" min="-180" max="180" step="5" value="0">
        </div>
    </div>

    <div id="successMessage">TREFFER!</div>

    <div id="debugInfo">
        <div id="debugContent"></div>
    </div>

    <button id="helpButton" title="Steuerung anzeigen">?</button>

    <div id="helpOverlay">
        <h3>Steuerung</h3>
        <ul>
            <li><b>R</b> – Neues Ziel (Randomisieren)</li>
            <li><b>Q</b> – Zurücksetzen</li>
            <li><b>W / S</b> – Zwischen Slidern wechseln</li>
            <li><b>A / D</b> – Wert des gewählten Sliders ändern</li>
            <li><b>E</b> – Slider ein-/ausklappen</li>
            <li><b>H</b> – Infos zum rechten Canvas ein-/ausblenden</li>
            <li><b>Touch</b> – Swipe oben/unten/links/rechts, 2×Tippen = Reset, 3×Tippen = Random</li>
        </ul>
        <p>Du kannst alle Slider auch mit der Maus bedienen.</p>
    </div>

    <button id="themeToggle" title="Light/Dark Mode umschalten">☾</button>

    <!-- Animation-Menü -->
    <button id="animationToggle" title="Animationsmenü ein-/ausblenden">Anim</button>
    <div id="animationMenu">
        <h3>Animation</h3>
        <p>Häkchen = Slider automatisch bewegen.</p>
        <div class="anim-row" data-slider-id="spread">
            <span class="anim-label">Streuung</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="sides">
            <span class="anim-label">Seiten</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="levels">
            <span class="anim-label">Tiefe</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="scale">
            <span class="anim-label">Skalierung</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="lineWidth">
            <span class="anim-label">Linienbreite</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="lineLength">
            <span class="anim-label">Länge</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="branching">
            <span class="anim-label">Äste</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="hue">
            <span class="anim-label">Farbton</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="nLevelBranches">
            <span class="anim-label">Verzweigung</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
        <div class="anim-row" data-slider-id="rotation">
            <span class="anim-label">Rotation</span>
            <input type="checkbox" class="anim-enable">
            <input type="range" min="1" max="3" step="1" value="1" class="anim-speed">
            <span class="anim-speed-label">Langsam</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
